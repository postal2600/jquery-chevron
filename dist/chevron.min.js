/* jquery-chevron - v0.1.3 - 2015-04-04 */

!function(a){var b={preload:function(b){return this._preloadCount=0,this.each(a.proxy(function(c,d){this.templatePath=a(d).attr("href"),this.templateName=a(d).attr("id")||this.attr("data-templateName"),a(this).data("template")?b&&c==this.length-1&&a.isFunction(b)&&b.call(this):a.ajax({type:"GET",url:this.templatePath,context:this,success:function(c){this._preloadCount++,a(d).data("template",c),b&&this._preloadCount==this.length&&a.isFunction(b)&&b.call(this)}})},this))},render:function(c,d){if("undefined"==typeof d)throw new Error("Missing the callback attribute in Chevron render method");return this.each(function(){this.renderData=c,this.callback=d,this.templatePath=a(this).attr("href"),this.templateName=a(this).attr("id")||a(this).attr("data-templateName"),a(this).data("template")?b.invokeRender.call(this,a(this).data("template")):a.ajax({type:"GET",url:this.templatePath,success:a.proxy(b.invokeRender,this)})})},renderTemplate:function(a,b){return Mustache.to_html(a,b)},invokeRender:function(c){a(this).data("template")||a(this).data("template",c);var d=b.renderTemplate(c,this.renderData);if(a.isFunction(this.callback))this.callback.call(this,d);else if(this.callback instanceof jQuery)this.callback.html(d);else{if("string"!=typeof this.callback)throw new Error("Chevron render method received an unsuported callback type");a(this.callback).html(d)}}};a.Chevron=a.fn.Chevron=function(c){var d=this;if(d.selector||(d=a("link[rel=template]")),b[c])return b[c].apply(d,Array.prototype.slice.call(arguments,1));throw new Error(c?"Method "+c+" does not exist on Chevron":"Chevron must receive a method to call as first argument")}}(jQuery);